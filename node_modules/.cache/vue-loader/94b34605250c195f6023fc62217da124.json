{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/views/RegistrarPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/views/RegistrarPage.vue","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661188935383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHJlZ2lzdHJhciB9IGZyb20gJ0AvbW9kdWxlcy9hdXRoL2F1dGguc2VydmljZSc7CmltcG9ydCB7IHRvYXN0RXJyb3IgfSBmcm9tICdAL3NlcnZpY2VzL3RvYXN0U2VydmljZSc7CmltcG9ydCB7IGdvVG9CYXNlUGFnZSB9IGZyb20gJ0Avcm91dGVyL3JvdXRlLnNlcnZpY2UnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCaWJsaW90ZWNhUmVnaXN0cmFyUGFnZScsCiAgcHJvdmlkZSgpIHsKICAgIGNvbnN0IGluZm9SZWdpc3RyYXJWbSA9IHt9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluZm9SZWdpc3RyYXJWbSwgJ2luZm8nLCB7CiAgICAgIGdldDogKCkgPT4gdGhpcy5pbmZvLAogICAgfSk7CiAgICByZXR1cm4geyBpbmZvUmVnaXN0cmFyVm0gfTsKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmZvOiB7CiAgICAgICAgbm9tZTogbnVsbCwKICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICBzZW5oYTogbnVsbCwKICAgICAgICBjb25maXJtYXJfc2VuaGE6IG51bGwsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25SZWdpc3RyYXIoKSB7CiAgICAgIHJlZ2lzdHJhcih0aGlzLmluZm8pCiAgICAgICAgLnRoZW4oZ29Ub0Jhc2VQYWdlKQogICAgICAgIC5jYXRjaChlcnIgPT4gewogICAgICAgICAgaWYgKGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICdFTUFJTF9EVVBMSUNBRE8nKSB7CiAgICAgICAgICAgIHRvYXN0RXJyb3IoJ0UtbWFpbCBkdXBsaWNhZG8nKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICB2YWxpZGF0ZVVzdWFyaW8oKSB7CiAgICAgIGNvbnN0IHNwZWNpYWxDaGFycyA9ICEhKHRoaXMuaW5mby5zZW5oYS5tYXRjaCgvW2AhQCMkJV4mKigpXytcLT1bXF17fTsnOiJcXHwsLjw+Lz9+XSsvKSAmJiB0aGlzLmluZm8uc2VuaGEubWF0Y2goL1xkKy8pKTsKCiAgICAgIGlmICghc3BlY2lhbENoYXJzKSB7CiAgICAgICAgdG9hc3RFcnJvcignQSBzZW5oYSBkZXZlIGNvbnRlciBjYXJhY3RlcmVzIGVzcGVjaWFpcyBlIG7Dum1lcm9zJyk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5pbmZvLnNlbmhhICE9PSB0aGlzLmluZm8uY29uZmlybWFyX3NlbmhhKSB7CiAgICAgICAgdG9hc3RFcnJvcignQXMgc2VuaGFzIG7Do28gc8OjbyBpZ3VhaXMnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9uUmVnaXN0cmFyKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["RegistrarPage.vue"],"names":[],"mappings":";AAkGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegistrarPage.vue","sourceRoot":"src/modules/auth/views","sourcesContent":["<template>\n  <el-main>\n    <biblioteca-row>\n      <biblioteca-col\n        class=\"text-center mb-3\"\n        :sm=\"12\"\n        :offset=\"6\">\n        <img\n          class=\"mb-3\"\n          src=\"@/assets/images/logo.png\"\n          alt=\"\"\n          width=\"80\" />\n        <biblioteca-header size=\"md\">Bem-vindo!</biblioteca-header>\n        <small>Por favor, informe os seus dados</small>\n      </biblioteca-col>\n    </biblioteca-row>\n    <biblioteca-row>\n      <biblioteca-col\n        class=\"text-center mb-3\"\n        :sm=\"12\"\n        :offset=\"6\">\n        <biblioteca-form v-slot=\"{ validate }\" :submit=\"validateUsuario\">\n          <biblioteca-row>\n            <biblioteca-col\n              class=\"text-center mb-3\">\n              <biblioteca-input\n                v-model=\"info.nome\"\n                type=\"text\"\n                name=\"nome\"\n                rules=\"required\"\n                placeholder=\"Nome\"\n                :focus=\"true\" />\n            </biblioteca-col>\n          </biblioteca-row>\n          <biblioteca-row>\n            <biblioteca-col\n              class=\"text-center mb-3\">\n              <biblioteca-input\n                v-model=\"info.email\"\n                type=\"email\"\n                name=\"e-mail\"\n                rules=\"required|email\"\n                placeholder=\"E-mail\" />\n            </biblioteca-col>\n          </biblioteca-row>\n          <biblioteca-row>\n            <biblioteca-col\n              class=\"text-center mb-3\"\n              :sm=\"12\">\n              <biblioteca-input\n                v-model=\"info.senha\"\n                name=\"senha\"\n                type=\"password\"\n                rules=\"required|min:6\"\n                placeholder=\"Senha*\" />\n            </biblioteca-col>\n            <biblioteca-col\n              class=\"text-center mb-3\"\n              :sm=\"12\">\n              <biblioteca-input\n                v-model=\"info.confirmar_senha\"\n                name=\"confirmar senha\"\n                type=\"password\"\n                rules=\"required|min:6\"\n                placeholder=\"Confirmar senha*\" />\n            </biblioteca-col>\n          </biblioteca-row>\n          <biblioteca-row>\n            <biblioteca-col\n              class=\"text-center mb-3\">\n              <biblioteca-button\n                native-type=\"submit\"\n                class=\"btn btn-dark\"\n                @click=\"validate\">\n                Confirmar\n              </biblioteca-button>\n            </biblioteca-col>\n          </biblioteca-row>\n        </biblioteca-form>\n      </biblioteca-col>\n    </biblioteca-row>\n    <biblioteca-row>\n      <biblioteca-col\n        class=\"text-center mb-3\"\n        :sm=\"12\"\n        :offset=\"6\">\n        <div class=\"d-grid text-center\">\n          <p>\n            Já possui conta?\n            <router-link class=\"color--primary\" to=\"/login\">Login</router-link>\n          </p>\n        </div>\n      </biblioteca-col>\n    </biblioteca-row>\n  </el-main>\n</template>\n\n<script>\nimport { registrar } from '@/modules/auth/auth.service';\nimport { toastError } from '@/services/toastService';\nimport { goToBasePage } from '@/router/route.service';\n\nexport default {\n  name: 'BibliotecaRegistrarPage',\n  provide() {\n    const infoRegistrarVm = {};\n    Object.defineProperty(infoRegistrarVm, 'info', {\n      get: () => this.info,\n    });\n    return { infoRegistrarVm };\n  },\n  data() {\n    return {\n      info: {\n        nome: null,\n        email: null,\n        senha: null,\n        confirmar_senha: null,\n      },\n    };\n  },\n  methods: {\n    onRegistrar() {\n      registrar(this.info)\n        .then(goToBasePage)\n        .catch(err => {\n          if (err.response.data.message === 'EMAIL_DUPLICADO') {\n            toastError('E-mail duplicado');\n          }\n        });\n    },\n    validateUsuario() {\n      const specialChars = !!(this.info.senha.match(/[`!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?~]+/) && this.info.senha.match(/\\d+/));\n\n      if (!specialChars) {\n        toastError('A senha deve conter caracteres especiais e números');\n      } else if (this.info.senha !== this.info.confirmar_senha) {\n        toastError('As senhas não são iguais');\n      } else {\n        this.onRegistrar();\n      }\n    },\n  },\n};\n</script>\n<style scoped>\nspan {\n  width: 620px;\n}\nbutton {\n  width:150px;\n}\n</style>\n"]}]}