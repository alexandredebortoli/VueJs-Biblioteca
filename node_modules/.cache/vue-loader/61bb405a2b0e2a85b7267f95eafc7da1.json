{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/gerenciar/views/GerenciarUsuarios.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/gerenciar/views/GerenciarUsuarios.vue","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661188935383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHRvYXN0RXJyb3IgfSBmcm9tICdAL3NlcnZpY2VzL3RvYXN0U2VydmljZSc7CmltcG9ydCB7IGZldGNoVXN1YXJpb3MsIHJlbW92ZVVzdWFyaW8gfSBmcm9tICdAL21vZHVsZXMvdXN1YXJpby91c3VhcmlvLnNlcnZpY2UnOwppbXBvcnQgeyBnb1RvQ3JlYXRlVXN1YXJpbyB9IGZyb20gJ0AvbW9kdWxlcy91c3VhcmlvL3VzdWFyaW8ucm91dGVzJzsKCmltcG9ydCBCaWJsaW90ZWNhVXN1YXJpb0xpbmsgZnJvbSAnQC9tb2R1bGVzL3VzdWFyaW8vY29tcG9uZW50cy9Vc3VhcmlvTGluay52dWUnOwppbXBvcnQgQmlibGlvdGVjYVNpbmdsZUNvbnRlbnRMYXlvdXQgZnJvbSAnQC9sYXlvdXRzL1NpbmdsZUNvbnRlbnRMYXlvdXQudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmlibGlvdGVjYUdlcmVuY2lhclVzdWFyaW9zJywKICBjb21wb25lbnRzOiB7CiAgICBCaWJsaW90ZWNhVXN1YXJpb0xpbmssCiAgICBCaWJsaW90ZWNhU2luZ2xlQ29udGVudExheW91dCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c3VhcmlvTGlzdDogW10sCiAgICAgIHVzdWFyaW9EZWxldGU6IG51bGwsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2goKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoKCkgewogICAgICB0aGlzLnVzdWFyaW9MaXN0ID0gW107CiAgICAgIGZldGNoVXN1YXJpb3MoKQogICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgdGhpcy51c3VhcmlvTGlzdCA9IGRhdGEuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnVzdWFyaW9MaXN0ID0gW107CiAgICAgICAgfSk7CiAgICB9LAogICAgb25DcmVhdGVVc3VhcmlvKCkgewogICAgICBnb1RvQ3JlYXRlVXN1YXJpbyh0aGlzLiRyb3V0ZXIpOwogICAgfSwKICAgIHNldERlbGV0ZVVzdWFyaW8odXN1YXJpbykgewogICAgICB0aGlzLnVzdWFyaW9EZWxldGUgPSB1c3VhcmlvOwogICAgfSwKICAgIHNob3dNb2RhbCh1c3VhcmlvKSB7CiAgICAgIHJldHVybiB0aGlzLnVzdWFyaW9EZWxldGUgJiYgdGhpcy51c3VhcmlvRGVsZXRlLmlkID09PSB1c3VhcmlvLmlkOwogICAgfSwKICAgIG9uRGVsZXRlVXN1YXJpbyh1c3VhcmlvKSB7CiAgICAgIHJlbW92ZVVzdWFyaW8odXN1YXJpbykKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gdG9hc3RFcnJvcignTsOjbyBmb2kgcG9zc8OtdmVsIGV4Y2x1aXIgbyB1c3XDoXJpbycpKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["GerenciarUsuarios.vue"],"names":[],"mappings":";AA6DA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GerenciarUsuarios.vue","sourceRoot":"src/modules/gerenciar/views","sourcesContent":["<template>\n  <biblioteca-single-content-layout container-size=\"lg\">\n    <template #content>\n      <div class=\"d--flex justify-content--space-between align-items--center\">\n        <biblioteca-header>Usuários</biblioteca-header>\n        <biblioteca-button @click=\"onCreateUsuario\">\n          Adicionar Usuário\n        </biblioteca-button>\n      </div>\n      <table v-if=\"usuarioList && usuarioList.length > 0\" class=\"table\">\n        <tbody>\n          <tr v-for=\"usuario in usuarioList\" :key=\"usuario.id\">\n            <td class=\"py-3 px-2\">\n              <biblioteca-header size=\"sm\" class=\"d-flex align-item--center\">\n                <biblioteca-usuario-link :id=\"usuario.id\">\n                  {{ usuario.nome }}\n                </biblioteca-usuario-link>\n              </biblioteca-header>\n              <biblioteca-p color=\"regular\">\n                {{ usuario.email }}\n              </biblioteca-p>\n            </td>\n            <td class=\"align-middle text-end\">\n              <el-dropdown\n                trigger=\"click\">\n                <biblioteca-icon\n                  icon=\"three-dots-vertical\"\n                  class=\"cursor--pointer mx--md\" />\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item>\n                    <biblioteca-usuario-link\n                      :id=\"usuario.id\"\n                      action=\"edit\">\n                      <biblioteca-icon size=\"sm\" icon=\"pencil\" />\n                      Editar\n                    </biblioteca-usuario-link>\n                  </el-dropdown-item>\n                  <el-dropdown-item>\n                    <a @click=\"setDeleteUsuario(usuario)\">\n                      <biblioteca-icon size=\"sm\" icon=\"trash\" />\n                      Excluir\n                    </a>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n              <biblioteca-modal-delete\n                v-if=\"showModal(usuario)\"\n                content=\"Você realmente deseja excluir o usuário?\"\n                @close=\"setDeleteUsuario(null)\"\n                @confirm=\"onDeleteUsuario(usuario)\">\n              </biblioteca-modal-delete>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <biblioteca-p v-else class=\"opacity--50 my--lg\">( Sem usuários )</biblioteca-p>\n    </template>\n  </biblioteca-single-content-layout>\n</template>\n\n<script>\nimport { toastError } from '@/services/toastService';\nimport { fetchUsuarios, removeUsuario } from '@/modules/usuario/usuario.service';\nimport { goToCreateUsuario } from '@/modules/usuario/usuario.routes';\n\nimport BibliotecaUsuarioLink from '@/modules/usuario/components/UsuarioLink.vue';\nimport BibliotecaSingleContentLayout from '@/layouts/SingleContentLayout.vue';\n\nexport default {\n  name: 'BibliotecaGerenciarUsuarios',\n  components: {\n    BibliotecaUsuarioLink,\n    BibliotecaSingleContentLayout,\n  },\n  data() {\n    return {\n      usuarioList: [],\n      usuarioDelete: null,\n    };\n  },\n  mounted() {\n    this.fetch();\n  },\n  methods: {\n    fetch() {\n      this.usuarioList = [];\n      fetchUsuarios()\n        .then(data => {\n          this.usuarioList = data.data;\n        })\n        .catch(() => {\n          this.usuarioList = [];\n        });\n    },\n    onCreateUsuario() {\n      goToCreateUsuario(this.$router);\n    },\n    setDeleteUsuario(usuario) {\n      this.usuarioDelete = usuario;\n    },\n    showModal(usuario) {\n      return this.usuarioDelete && this.usuarioDelete.id === usuario.id;\n    },\n    onDeleteUsuario(usuario) {\n      removeUsuario(usuario)\n        .then(() => {\n          this.$router.go(0);\n        })\n        .catch(() => toastError('Não foi possível excluir o usuário'));\n    },\n  },\n};\n</script>\n"]}]}