{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/usuario/components/UsuarioEditInputs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/usuario/components/UsuarioEditInputs.vue","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661188935383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGdvSGlzdG9yeUJhY2sgfSBmcm9tICdAL3JvdXRlci9yb3V0ZS5zZXJ2aWNlJzsKaW1wb3J0IHsgdG9hc3RFcnJvciB9IGZyb20gJ0Avc2VydmljZXMvdG9hc3RTZXJ2aWNlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmlibGlvdGVjYVVzdWFyaW9FZGl0JywKICBpbmplY3Q6IFsndXN1YXJpb0VkaXRWbSddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZW5oYTogbnVsbCwKICAgICAgY29uZmlybWFyX3NlbmhhOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvSGlzdG9yeUJhY2ssCiAgICBzYXZlKCkgewogICAgICB0aGlzLiRlbWl0KCdzYXZlJyk7CiAgICB9LAogICAgdmFsaWRhdGVVc3VhcmlvKCkgewogICAgICBpZiAodGhpcy5zZW5oYSkgewogICAgICAgIHRoaXMudXN1YXJpb0VkaXRWbS51c3VhcmlvLnNlbmhhID0gdGhpcy5zZW5oYTsKICAgICAgICBjb25zdCBzcGVjaWFsQ2hhcnMgPSAhISh0aGlzLnVzdWFyaW9FZGl0Vm0udXN1YXJpby5zZW5oYS5tYXRjaCgvW2AhQCMkJV4mKigpXytcLT1bXF17fTsnOiJcXHwsLjw+Lz9+XSsvKSAmJiB0aGlzLnVzdWFyaW9FZGl0Vm0udXN1YXJpby5zZW5oYS5tYXRjaCgvXGQrLykpOwoKICAgICAgICBpZiAoIXNwZWNpYWxDaGFycykgewogICAgICAgICAgdG9hc3RFcnJvcignQSBzZW5oYSBkZXZlIGNvbnRlciBjYXJhY3RlcmVzIGVzcGVjaWFpcyBlIG7Dum1lcm9zJyk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnVzdWFyaW9FZGl0Vm0udXN1YXJpby5zZW5oYSAhPT0gdGhpcy5jb25maXJtYXJfc2VuaGEpIHsKICAgICAgICAgIHRvYXN0RXJyb3IoJ0FzIHNlbmhhcyBuw6NvIHPDo28gaWd1YWlzJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2F2ZSgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["UsuarioEditInputs.vue"],"names":[],"mappings":";AAmFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UsuarioEditInputs.vue","sourceRoot":"src/modules/usuario/components","sourcesContent":["<template>\n  <div>\n    <biblioteca-form v-if=\"usuarioEditVm.usuario\" v-slot=\"{ validate }\" :submit=\"validateUsuario\">\n      <div class=\"form-field mt-4\">\n        <biblioteca-input\n          v-model=\"usuarioEditVm.usuario.nome\"\n          label=\"Nome*\"\n          name=\"nome\"\n          type=\"text\"\n          rules=\"required|min:2\"\n          placeholder=\"Nome\" />\n      </div>\n      <div class=\"form-field\">\n        <biblioteca-input\n          v-model=\"usuarioEditVm.usuario.email\"\n          label=\"E-mail*\"\n          name=\"e-mail\"\n          type=\"email\"\n          rules=\"required\"\n          placeholder=\"E-mail\" />\n      </div>\n      <biblioteca-header v-if=\"usuarioEditVm.usuario.id\" size=\"md\">\n        Informe a senha para alterar:\n      </biblioteca-header>\n      <div v-if=\"!usuarioEditVm.usuario.id\" class=\"form-field\">\n        <biblioteca-input\n          v-model=\"senha\"\n          label=\"Senha*\"\n          name=\"senha\"\n          type=\"password\"\n          rules=\"required|min:6\"\n          placeholder=\"Senha\" />\n      </div>\n      <div v-if=\"!usuarioEditVm.usuario.id\" class=\"form-field\">\n        <biblioteca-input\n          v-model=\"confirmar_senha\"\n          label=\"Confirmar senha*\"\n          name=\"confirmar senha\"\n          type=\"password\"\n          rules=\"required|min:6\"\n          placeholder=\"Confirmar senha\" />\n      </div>\n      <div v-if=\"usuarioEditVm.usuario.id\" class=\"form-field\">\n        <biblioteca-input\n          v-model=\"senha\"\n          label=\"Senha*\"\n          name=\"senha\"\n          type=\"password\"\n          rules=\"min:6\"\n          placeholder=\"Senha\" />\n      </div>\n      <div v-if=\"usuarioEditVm.usuario.id\" class=\"form-field\">\n        <biblioteca-input\n          v-model=\"confirmar_senha\"\n          label=\"Confirmar senha*\"\n          name=\"confirmar senha\"\n          type=\"password\"\n          rules=\"min:6\"\n          placeholder=\"Confirmar senha\" />\n      </div>\n      <div class=\"mt-4 mb-3 d--flex justify-content-end\">\n        <biblioteca-button\n          class=\"btn btn-secondary\"\n          width=\"110\"\n          size=\"sm\"\n          @click=\"goHistoryBack()\">\n          Cancelar\n        </biblioteca-button>\n        <biblioteca-button\n          native-type=\"submit\"\n          class=\"btn btn-success ms-2\"\n          width=\"110\"\n          size=\"sm\"\n          @click=\"validate\">\n          <a v-if=\"usuarioEditVm.usuario.id\">Editar</a>\n          <a v-else>Adicionar</a>\n        </biblioteca-button>\n      </div>\n    </biblioteca-form>\n  </div>\n</template>\n\n<script>\nimport { goHistoryBack } from '@/router/route.service';\nimport { toastError } from '@/services/toastService';\n\nexport default {\n  name: 'BibliotecaUsuarioEdit',\n  inject: ['usuarioEditVm'],\n  data() {\n    return {\n      senha: null,\n      confirmar_senha: null,\n    };\n  },\n  methods: {\n    goHistoryBack,\n    save() {\n      this.$emit('save');\n    },\n    validateUsuario() {\n      if (this.senha) {\n        this.usuarioEditVm.usuario.senha = this.senha;\n        const specialChars = !!(this.usuarioEditVm.usuario.senha.match(/[`!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?~]+/) && this.usuarioEditVm.usuario.senha.match(/\\d+/));\n\n        if (!specialChars) {\n          toastError('A senha deve conter caracteres especiais e números');\n        } else if (this.usuarioEditVm.usuario.senha !== this.confirmar_senha) {\n          toastError('As senhas não são iguais');\n        } else {\n          this.save();\n        }\n      } else {\n        this.save();\n      }\n    },\n  },\n};\n</script>\n"]}]}