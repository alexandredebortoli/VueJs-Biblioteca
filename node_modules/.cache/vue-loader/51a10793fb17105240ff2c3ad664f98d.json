{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/views/LoginPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/views/LoginPage.vue","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661188935383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCAqIGFzIGF1dGhTdG9yZSBmcm9tICdAL21vZHVsZXMvYXV0aC9hdXRoLnN0b3JlJzsKaW1wb3J0IHsgdG9hc3RFcnJvciB9IGZyb20gJ0Avc2VydmljZXMvdG9hc3RTZXJ2aWNlJzsKaW1wb3J0IHsgcGFzc3dvcmRMb2dpbiB9IGZyb20gJ0AvbW9kdWxlcy9hdXRoL2F1dGguc2VydmljZSc7CmltcG9ydCB7IGdvVG9CYXNlUGFnZSB9IGZyb20gJ0Avcm91dGVyL3JvdXRlLnNlcnZpY2UnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCaWJsaW90ZWNhTG9naW5QYWdlJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlKCkgewogICAgaWYgKGF1dGhTdG9yZS5nZXR0ZXJzLmdldFRva2VuKCkpIHsKICAgICAgZ29Ub0Jhc2VQYWdlKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRMb2dpbigpIHsKICAgICAgcGFzc3dvcmRMb2dpbih0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKQogICAgICAgIC50aGVuKGdvVG9CYXNlUGFnZSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGlmIChlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSAnVVNVQVJJT19JTkNPUlJFVE8nKSB7CiAgICAgICAgICAgIHRvYXN0RXJyb3IoJ0UtbWFpbCBlL291IHNlbmhhIGluY29ycmV0b3MnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["LoginPage.vue"],"names":[],"mappings":";AAgDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginPage.vue","sourceRoot":"src/modules/auth/views","sourcesContent":["<template>\n  <biblioteca-container class=\"d-flex justify-content-center align-items-center h-100 py--xl\">\n    <biblioteca-form v-slot=\"{ validate }\" :submit=\"submitLogin\">\n      <div class=\"text-center mb-3\">\n        <img\n          class=\"mb-2\"\n          src=\"@/assets/images/logo.png\"\n          alt=\"\"\n          width=\"80\" />\n        <biblioteca-header size=\"md\">Biblioteca</biblioteca-header>\n        <small>Entrar</small>\n      </div>\n      <div class=\"mb-3\">\n        <biblioteca-input\n          v-model=\"username\"\n          type=\"email\"\n          name=\"e-mail\"\n          rules=\"required|email\"\n          placeholder=\"E-mail\"\n          :focus=\"true\" />\n      </div>\n      <div class=\"mb-3\">\n        <biblioteca-input\n          v-model=\"password\"\n          name=\"senha\"\n          type=\"password\"\n          rules=\"required|min:6\"\n          placeholder=\"Senha\" />\n      </div>\n      <div class=\"d-grid mb-3\">\n        <biblioteca-button\n          class=\"btn btn-primary\"\n          native-type=\"submit\"\n          @click=\"validate\">\n          Entrar\n        </biblioteca-button>\n      </div>\n      <div class=\"d-grid text-center\">\n        <p>\n          NÃ£o possui conta?\n          <router-link class=\"color--primary\" to=\"/registrar\">Criar conta</router-link>\n        </p>\n      </div>\n    </biblioteca-form>\n  </biblioteca-container>\n</template>\n\n<script>\nimport * as authStore from '@/modules/auth/auth.store';\nimport { toastError } from '@/services/toastService';\nimport { passwordLogin } from '@/modules/auth/auth.service';\nimport { goToBasePage } from '@/router/route.service';\n\nexport default {\n  name: 'BibliotecaLoginPage',\n  data() {\n    return {\n      username: '',\n      password: '',\n    };\n  },\n  beforeCreate() {\n    if (authStore.getters.getToken()) {\n      goToBasePage();\n    }\n  },\n  methods: {\n    submitLogin() {\n      passwordLogin(this.username, this.password)\n        .then(goToBasePage)\n        .catch(err => {\n          if (err.response.data.message === 'USUARIO_INCORRETO') {\n            toastError('E-mail e/ou senha incorretos');\n          }\n        });\n    },\n  },\n};\n</script>\n<style scoped>\nspan {\n  width: 320px;\n}\n</style>\n"]}]}