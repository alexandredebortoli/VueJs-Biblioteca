{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/eslint-loader/index.js??ref--14-0!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/auth.service.js","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/auth.service.js","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/babel.config.js","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/eslint-loader/index.js","mtime":1661188925494}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAqIGFzIGF1dGhTdG9yZSBmcm9tICdAL21vZHVsZXMvYXV0aC9hdXRoLnN0b3JlJzsKaW1wb3J0ICogYXMgYXV0aFJlc291cmNlIGZyb20gJ0AvbW9kdWxlcy9hdXRoL2F1dGgucmVzb3VyY2UnOwpleHBvcnQgZnVuY3Rpb24gcGFzc3dvcmRMb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgcmV0dXJuIGF1dGhSZXNvdXJjZS5sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICBpZiAoIWRhdGEudG9rZW4pIHsKICAgICAgICByZWplY3QoKTsKICAgICAgfQoKICAgICAgYXV0aFN0b3JlLm11dGF0aW9ucy5zZXRUb2tlbihkYXRhLnRva2VuKTsKICAgICAgcmV0dXJuIHJlc29sdmUoKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgYXV0aFN0b3JlLm11dGF0aW9ucy5jbGVhclRva2VuKCk7CiAgICAgIHJldHVybiByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiByZWdpc3RyYXIodXN1YXJpbykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICByZXR1cm4gYXV0aFJlc291cmNlLnJlZ2lzdHJhcihmb3JtYXRhckRhZG9zKHVzdWFyaW8pKS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CgogICAgICBpZiAoIWRhdGEudG9rZW4pIHsKICAgICAgICByZWplY3QoKTsKICAgICAgfQoKICAgICAgYXV0aFN0b3JlLm11dGF0aW9ucy5zZXRUb2tlbihkYXRhLnRva2VuKTsKICAgICAgcmV0dXJuIHJlc29sdmUoKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgYXV0aFN0b3JlLm11dGF0aW9ucy5jbGVhclRva2VuKCk7CiAgICAgIHJldHVybiByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9CgpmdW5jdGlvbiBmb3JtYXRhckRhZG9zKGluZm8pIHsKICByZXR1cm4gewogICAgbm9tZTogaW5mby5ub21lLAogICAgc2VuaGE6IGluZm8uc2VuaGEsCiAgICBlbWFpbDogaW5mby5lbWFpbAogIH07Cn0="},{"version":3,"names":["authStore","authResource","passwordLogin","username","password","Promise","resolve","reject","login","then","data","token","mutations","setToken","catch","err","clearToken","registrar","usuario","formatarDados","info","nome","senha","email"],"sources":["/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/auth.service.js"],"sourcesContent":["import * as authStore from '@/modules/auth/auth.store';\nimport * as authResource from '@/modules/auth/auth.resource';\n\nexport function passwordLogin(username, password) {\n  return new Promise((resolve, reject) => authResource\n    .login(username, password)\n    .then(({ data }) => {\n      if (!data.token) {\n        reject();\n      }\n      authStore.mutations.setToken(data.token);\n      return resolve();\n    })\n    .catch(err => {\n      authStore.mutations.clearToken();\n      return reject(err);\n    }));\n}\n\nexport function registrar(usuario) {\n  return new Promise((resolve, reject) => authResource\n    .registrar(formatarDados(usuario))\n    .then(({ data }) => {\n      if (!data.token) {\n        reject();\n      }\n      authStore.mutations.setToken(data.token);\n      return resolve();\n    })\n    .catch(err => {\n      authStore.mutations.clearToken();\n      return reject(err);\n    }));\n}\n\nfunction formatarDados(info) {\n  return {\n    nome: info.nome,\n    senha: info.senha,\n    email: info.email,\n  };\n}\n"],"mappings":";AAAA,OAAO,KAAKA,SAAZ,MAA2B,2BAA3B;AACA,OAAO,KAAKC,YAAZ,MAA8B,8BAA9B;AAEA,OAAO,SAASC,aAAT,CAAuBC,QAAvB,EAAiCC,QAAjC,EAA2C;EAChD,OAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;IAAA,OAAqBN,YAAY,CACjDO,KADqC,CAC/BL,QAD+B,EACrBC,QADqB,EAErCK,IAFqC,CAEhC,gBAAc;MAAA,IAAXC,IAAW,QAAXA,IAAW;;MAClB,IAAI,CAACA,IAAI,CAACC,KAAV,EAAiB;QACfJ,MAAM;MACP;;MACDP,SAAS,CAACY,SAAV,CAAoBC,QAApB,CAA6BH,IAAI,CAACC,KAAlC;MACA,OAAOL,OAAO,EAAd;IACD,CARqC,EASrCQ,KATqC,CAS/B,UAAAC,GAAG,EAAI;MACZf,SAAS,CAACY,SAAV,CAAoBI,UAApB;MACA,OAAOT,MAAM,CAACQ,GAAD,CAAb;IACD,CAZqC,CAArB;EAAA,CAAZ,CAAP;AAaD;AAED,OAAO,SAASE,SAAT,CAAmBC,OAAnB,EAA4B;EACjC,OAAO,IAAIb,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV;IAAA,OAAqBN,YAAY,CACjDgB,SADqC,CAC3BE,aAAa,CAACD,OAAD,CADc,EAErCT,IAFqC,CAEhC,iBAAc;MAAA,IAAXC,IAAW,SAAXA,IAAW;;MAClB,IAAI,CAACA,IAAI,CAACC,KAAV,EAAiB;QACfJ,MAAM;MACP;;MACDP,SAAS,CAACY,SAAV,CAAoBC,QAApB,CAA6BH,IAAI,CAACC,KAAlC;MACA,OAAOL,OAAO,EAAd;IACD,CARqC,EASrCQ,KATqC,CAS/B,UAAAC,GAAG,EAAI;MACZf,SAAS,CAACY,SAAV,CAAoBI,UAApB;MACA,OAAOT,MAAM,CAACQ,GAAD,CAAb;IACD,CAZqC,CAArB;EAAA,CAAZ,CAAP;AAaD;;AAED,SAASI,aAAT,CAAuBC,IAAvB,EAA6B;EAC3B,OAAO;IACLC,IAAI,EAAED,IAAI,CAACC,IADN;IAELC,KAAK,EAAEF,IAAI,CAACE,KAFP;IAGLC,KAAK,EAAEH,IAAI,CAACG;EAHP,CAAP;AAKD"}]}