{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/eslint-loader/index.js??ref--14-0!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/helpers/http/http.js","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/helpers/http/http.js","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/babel.config.js","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/eslint-loader/index.js","mtime":1661188925494}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0ICogYXMgYXV0aFN0b3JlIGZyb20gJ0AvbW9kdWxlcy9hdXRoL2F1dGguc3RvcmUnOwppbXBvcnQgKiBhcyBlcnJvclN0b3JlIGZyb20gJ0AvbW9kdWxlcy9lcnJvci9lcnJvci5zdG9yZSc7CmltcG9ydCB7IGdvVG9Mb2dpblBhZ2UgfSBmcm9tICdAL3JvdXRlci9yb3V0ZS5zZXJ2aWNlJzsKdmFyIHRva2VuID0gYXV0aFN0b3JlLmdldHRlcnMuZ2V0VG9rZW4oKTsKdmFyIGRlZmF1bHRIZWFkZXJzID0gewogIGFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nLAogICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKfTsKCnZhciBwcmVmaXhCYXNlVXJsID0gZnVuY3Rpb24gcHJlZml4QmFzZVVybCgpIHsKICBpZiAoWydsb2NhbGhvc3QnLCAnMTI3LjAuMC4xJ10uaW5jbHVkZXMod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSkgcmV0dXJuICcnOwogIHJldHVybiAnaHR0cHM6Ly9hcGkuYmlibGlvdGVjYS5jb20uYnInOwp9OwoKaWYgKHRva2VuKSB7CiAgZGVmYXVsdEhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pOwp9Cgp2YXIgY2xpZW50ID0gYXhpb3MuY3JlYXRlKHsKICBoZWFkZXJzOiBkZWZhdWx0SGVhZGVycywKICBiYXNlVVJMOiAiIi5jb25jYXQocHJlZml4QmFzZVVybCgpLCAiL2FwaS8iKSwKICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKfSk7CmNsaWVudC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIGVycm9yU3RvcmUubXV0YXRpb25zLmNsZWFyRXJyb3IoKTsKICByZXR1cm4gcmVzcG9uc2U7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHZhciByZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlOwoKICBpZiAoWzQwMSwgNDAzXS5pbmNsdWRlcyhyZXNwb25zZS5zdGF0dXMpICYmIHJlc3BvbnNlLmRhdGEuZXJyb3JzICE9PSAnUEVSTUlTU0lPTl9ERU5JRUQnICYmIHJlc3BvbnNlLmRhdGEuZXJyb3JzICE9PSAnRk9SQklEREVOJykgewogICAgZXJyb3JTdG9yZS5tdXRhdGlvbnMuc2V0RXJyb3IocmVzcG9uc2UuZGF0YS5jb2RlKTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChnb1RvTG9naW5QYWdlKCkpOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBmdW5jdGlvbiBnZXQodXJsKSB7CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIGhlYWRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHJldHVybiBjbGllbnQucmVxdWVzdCh7CiAgICB1cmw6IHVybCwKICAgIHBhcmFtczogcGFyYW1zLAogICAgaGVhZGVyczogaGVhZGVycywKICAgIG1ldGhvZDogJ0dFVCcKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEpIHsKICB2YXIgaGVhZGVycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgcmV0dXJuIGNsaWVudC5yZXF1ZXN0KHsKICAgIHVybDogdXJsLAogICAgZGF0YTogZGF0YSwKICAgIGhlYWRlcnM6IGhlYWRlcnMsCiAgICBtZXRob2Q6ICdQT1NUJwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBwdXQodXJsLCBkYXRhKSB7CiAgdmFyIGhlYWRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHJldHVybiBjbGllbnQucmVxdWVzdCh7CiAgICB1cmw6IHVybCwKICAgIGRhdGE6IGRhdGEsCiAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgbWV0aG9kOiAnUFVUJwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiByZW1vdmUodXJsKSB7CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIGhlYWRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHJldHVybiBjbGllbnQucmVxdWVzdCh7CiAgICB1cmw6IHVybCwKICAgIHBhcmFtczogcGFyYW1zLAogICAgaGVhZGVyczogaGVhZGVycywKICAgIG1ldGhvZDogJ0RFTEVURScKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gcGF0Y2godXJsKSB7CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgdmFyIGhlYWRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIHJldHVybiBjbGllbnQucmVxdWVzdCh7CiAgICB1cmw6IHVybCwKICAgIHBhcmFtczogcGFyYW1zLAogICAgaGVhZGVyczogaGVhZGVycywKICAgIG1ldGhvZDogJ1BBVENIJwogIH0pOwp9"},{"version":3,"names":["axios","authStore","errorStore","goToLoginPage","token","getters","getToken","defaultHeaders","accept","prefixBaseUrl","includes","window","location","hostname","Authorization","client","create","headers","baseURL","withCredentials","interceptors","response","use","mutations","clearError","error","status","data","errors","setError","code","Promise","reject","get","url","params","request","method","post","put","remove","patch"],"sources":["/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/helpers/http/http.js"],"sourcesContent":["import axios from 'axios';\nimport * as authStore from '@/modules/auth/auth.store';\nimport * as errorStore from '@/modules/error/error.store';\nimport { goToLoginPage } from '@/router/route.service';\n\nconst token = authStore.getters.getToken();\n\nconst defaultHeaders = {\n  accept: 'application/json',\n  'Content-Type': 'application/json',\n};\n\nconst prefixBaseUrl = () => {\n  if (['localhost', '127.0.0.1'].includes(window.location.hostname)) return '';\n  return 'https://api.biblioteca.com.br';\n};\n\nif (token) {\n  defaultHeaders.Authorization = `Bearer ${token}`;\n}\n\nconst client = axios.create({\n  headers: defaultHeaders,\n  baseURL: `${prefixBaseUrl()}/api/`,\n  withCredentials: true,\n});\n\nclient.interceptors.response.use(\n  response => {\n    errorStore.mutations.clearError();\n    return response;\n  },\n  error => {\n    const { response } = error;\n    if (([401, 403].includes(response.status) && response.data.errors !== 'PERMISSION_DENIED' && response.data.errors !== 'FORBIDDEN')) {\n      errorStore.mutations.setError(response.data.code);\n      return Promise.reject(goToLoginPage());\n    }\n    return Promise.reject(error);\n  },\n);\n\nexport function get(url, params = {}, headers = {}) {\n  return client.request({ url, params, headers, method: 'GET' });\n}\n\nexport function post(url, data, headers = {}) {\n  return client.request({ url, data, headers, method: 'POST' });\n}\n\nexport function put(url, data, headers = {}) {\n  return client.request({ url, data, headers, method: 'PUT' });\n}\n\nexport function remove(url, params = {}, headers = {}) {\n  return client.request({ url, params, headers, method: 'DELETE' });\n}\n\nexport function patch(url, params = {}, headers = {}) {\n  return client.request({ url, params, headers, method: 'PATCH' });\n}\n"],"mappings":"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"}]}