{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/views/LoginPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/auth/views/LoginPage.vue","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/babel.config.js","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661188935383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgYXV0aFN0b3JlIGZyb20gJ0AvbW9kdWxlcy9hdXRoL2F1dGguc3RvcmUnOwppbXBvcnQgeyB0b2FzdEVycm9yIH0gZnJvbSAnQC9zZXJ2aWNlcy90b2FzdFNlcnZpY2UnOwppbXBvcnQgeyBwYXNzd29yZExvZ2luIH0gZnJvbSAnQC9tb2R1bGVzL2F1dGgvYXV0aC5zZXJ2aWNlJzsKaW1wb3J0IHsgZ29Ub0Jhc2VQYWdlIH0gZnJvbSAnQC9yb3V0ZXIvcm91dGUuc2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmlibGlvdGVjYUxvZ2luUGFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnCiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICBpZiAoYXV0aFN0b3JlLmdldHRlcnMuZ2V0VG9rZW4oKSkgewogICAgICBnb1RvQmFzZVBhZ2UoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdExvZ2luOiBmdW5jdGlvbiBzdWJtaXRMb2dpbigpIHsKICAgICAgcGFzc3dvcmRMb2dpbih0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKS50aGVuKGdvVG9CYXNlUGFnZSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGlmIChlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSAnVVNVQVJJT19JTkNPUlJFVE8nKSB7CiAgICAgICAgICB0b2FzdEVycm9yKCdFLW1haWwgZS9vdSBzZW5oYSBpbmNvcnJldG9zJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"AAgDA;AACA;AACA;AACA;AAEA;EACAA,2BADA;EAEAC,IAFA,kBAEA;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CAPA;EAQAC,YARA,0BAQA;IACA;MACAC;IACA;EACA,CAZA;EAaAC;IACAC,WADA,yBACA;MACAC,4CACAC,IADA,CACAJ,YADA,EAEAK,KAFA,CAEA;QACA;UACAC;QACA;MACA,CANA;IAOA;EATA;AAbA","names":["name","data","username","password","beforeCreate","goToBasePage","methods","submitLogin","passwordLogin","then","catch","toastError"],"sourceRoot":"src/modules/auth/views","sources":["LoginPage.vue"],"sourcesContent":["<template>\n  <biblioteca-container class=\"d-flex justify-content-center align-items-center h-100 py--xl\">\n    <biblioteca-form v-slot=\"{ validate }\" :submit=\"submitLogin\">\n      <div class=\"text-center mb-3\">\n        <img\n          class=\"mb-2\"\n          src=\"@/assets/images/logo.png\"\n          alt=\"\"\n          width=\"80\" />\n        <biblioteca-header size=\"md\">Biblioteca</biblioteca-header>\n        <small>Entrar</small>\n      </div>\n      <div class=\"mb-3\">\n        <biblioteca-input\n          v-model=\"username\"\n          type=\"email\"\n          name=\"e-mail\"\n          rules=\"required|email\"\n          placeholder=\"E-mail\"\n          :focus=\"true\" />\n      </div>\n      <div class=\"mb-3\">\n        <biblioteca-input\n          v-model=\"password\"\n          name=\"senha\"\n          type=\"password\"\n          rules=\"required|min:6\"\n          placeholder=\"Senha\" />\n      </div>\n      <div class=\"d-grid mb-3\">\n        <biblioteca-button\n          class=\"btn btn-primary\"\n          native-type=\"submit\"\n          @click=\"validate\">\n          Entrar\n        </biblioteca-button>\n      </div>\n      <div class=\"d-grid text-center\">\n        <p>\n          NÃ£o possui conta?\n          <router-link class=\"color--primary\" to=\"/registrar\">Criar conta</router-link>\n        </p>\n      </div>\n    </biblioteca-form>\n  </biblioteca-container>\n</template>\n\n<script>\nimport * as authStore from '@/modules/auth/auth.store';\nimport { toastError } from '@/services/toastService';\nimport { passwordLogin } from '@/modules/auth/auth.service';\nimport { goToBasePage } from '@/router/route.service';\n\nexport default {\n  name: 'BibliotecaLoginPage',\n  data() {\n    return {\n      username: '',\n      password: '',\n    };\n  },\n  beforeCreate() {\n    if (authStore.getters.getToken()) {\n      goToBasePage();\n    }\n  },\n  methods: {\n    submitLogin() {\n      passwordLogin(this.username, this.password)\n        .then(goToBasePage)\n        .catch(err => {\n          if (err.response.data.message === 'USUARIO_INCORRETO') {\n            toastError('E-mail e/ou senha incorretos');\n          }\n        });\n    },\n  },\n};\n</script>\n<style scoped>\nspan {\n  width: 320px;\n}\n</style>\n"]}]}