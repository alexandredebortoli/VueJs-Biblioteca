{"remainingRequest":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/gerenciar/views/GerenciarCategorias.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/src/modules/gerenciar/views/GerenciarCategorias.vue","mtime":1661190386349},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/babel.config.js","mtime":1661169290000},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/babel-loader/lib/index.js","mtime":1661188927724},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/cache-loader/dist/cjs.js","mtime":1661188924946},{"path":"/Users/alexandre/Documents/projeto-saks-developer/SAKS-main/biblioteca-front/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1661188935383}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9hc3RFcnJvciB9IGZyb20gJ0Avc2VydmljZXMvdG9hc3RTZXJ2aWNlJzsKaW1wb3J0IHsgZmV0Y2hDYXRlZ29yaWFzLCByZW1vdmVDYXRlZ29yaWEgfSBmcm9tICdAL21vZHVsZXMvY2F0ZWdvcmlhL2NhdGVnb3JpYS5zZXJ2aWNlJzsKaW1wb3J0IHsgZ29Ub0NyZWF0ZUNhdGVnb3JpYSB9IGZyb20gJ0AvbW9kdWxlcy9jYXRlZ29yaWEvY2F0ZWdvcmlhLnJvdXRlcyc7CmltcG9ydCBCaWJsaW90ZWNhQ2F0ZWdvcmlhTGluayBmcm9tICdAL21vZHVsZXMvY2F0ZWdvcmlhL2NvbXBvbmVudHMvQ2F0ZWdvcmlhTGluay52dWUnOwppbXBvcnQgQmlibGlvdGVjYVNpbmdsZUNvbnRlbnRMYXlvdXQgZnJvbSAnQC9sYXlvdXRzL1NpbmdsZUNvbnRlbnRMYXlvdXQudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCaWJsaW90ZWNhR2VyZW5jaWFyQ2F0ZWdvcmlhcycsCiAgY29tcG9uZW50czogewogICAgQmlibGlvdGVjYUNhdGVnb3JpYUxpbms6IEJpYmxpb3RlY2FDYXRlZ29yaWFMaW5rLAogICAgQmlibGlvdGVjYVNpbmdsZUNvbnRlbnRMYXlvdXQ6IEJpYmxpb3RlY2FTaW5nbGVDb250ZW50TGF5b3V0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmlhTGlzdDogW10sCiAgICAgIGNhdGVnb3JpYURlbGV0ZTogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmZldGNoKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaDogZnVuY3Rpb24gZmV0Y2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmNhdGVnb3JpYUxpc3QgPSBbXTsKICAgICAgZmV0Y2hDYXRlZ29yaWFzKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzLmNhdGVnb3JpYUxpc3QgPSBkYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5jYXRlZ29yaWFMaXN0ID0gW107CiAgICAgIH0pOwogICAgfSwKICAgIG9uQ3JlYXRlQ2F0ZWdvcmlhOiBmdW5jdGlvbiBvbkNyZWF0ZUNhdGVnb3JpYSgpIHsKICAgICAgZ29Ub0NyZWF0ZUNhdGVnb3JpYSh0aGlzLiRyb3V0ZXIpOwogICAgfSwKICAgIHNldERlbGV0ZUNhdGVnb3JpYTogZnVuY3Rpb24gc2V0RGVsZXRlQ2F0ZWdvcmlhKGNhdGVnb3JpYSkgewogICAgICB0aGlzLmNhdGVnb3JpYURlbGV0ZSA9IGNhdGVnb3JpYTsKICAgIH0sCiAgICBzaG93TW9kYWw6IGZ1bmN0aW9uIHNob3dNb2RhbChjYXRlZ29yaWEpIHsKICAgICAgcmV0dXJuIHRoaXMuY2F0ZWdvcmlhRGVsZXRlICYmIHRoaXMuY2F0ZWdvcmlhRGVsZXRlLmlkID09PSBjYXRlZ29yaWEuaWQ7CiAgICB9LAogICAgb25EZWxldGVDYXRlZ29yaWE6IGZ1bmN0aW9uIG9uRGVsZXRlQ2F0ZWdvcmlhKGNhdGVnb3JpYSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJlbW92ZUNhdGVnb3JpYShjYXRlZ29yaWEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcm91dGVyLmdvKDApOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRvYXN0RXJyb3IoJ07Do28gZm9pIHBvc3PDrXZlbCBleGNsdWlyIGEgY2F0ZWdvcmlhJyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"AA0DA;AACA;AACA;AAEA;AACA;AAEA;EACAA,qCADA;EAEAC;IACAC,gDADA;IAEAC;EAFA,CAFA;EAMAC,IANA,kBAMA;IACA;MACAC,iBADA;MAEAC;IAFA;EAIA,CAXA;EAYAC,OAZA,qBAYA;IACA;EACA,CAdA;EAeAC;IACAC,KADA,mBACA;MAAA;;MACA;MACAC,kBACAC,IADA,CACA;QACA;MACA,CAHA,EAIAC,KAJA,CAIA;QACA;MACA,CANA;IAOA,CAVA;IAWAC,iBAXA,+BAWA;MACAC;IACA,CAbA;IAcAC,kBAdA,8BAcAC,SAdA,EAcA;MACA;IACA,CAhBA;IAiBAC,SAjBA,qBAiBAD,SAjBA,EAiBA;MACA;IACA,CAnBA;IAoBAE,iBApBA,6BAoBAF,SApBA,EAoBA;MAAA;;MACAG,2BACAR,IADA,CACA;QACA;MACA,CAHA,EAIAC,KAJA,CAIA;QAAA;MAAA,CAJA;IAKA;EA1BA;AAfA","names":["name","components","BibliotecaCategoriaLink","BibliotecaSingleContentLayout","data","categoriaList","categoriaDelete","mounted","methods","fetch","fetchCategorias","then","catch","onCreateCategoria","goToCreateCategoria","setDeleteCategoria","categoria","showModal","onDeleteCategoria","removeCategoria"],"sourceRoot":"src/modules/gerenciar/views","sources":["GerenciarCategorias.vue"],"sourcesContent":["<template>\n  <biblioteca-single-content-layout container-size=\"lg\">\n    <template #content>\n      <div class=\"d--flex justify-content--space-between align-items--center\">\n        <biblioteca-header>Categorias</biblioteca-header>\n        <biblioteca-button @click=\"onCreateCategoria\">\n          Adicionar Categoria\n        </biblioteca-button>\n      </div>\n      <table v-if=\"categoriaList && categoriaList.length > 0\" class=\"table\">\n        <tbody>\n          <tr v-for=\"categoria in categoriaList\" :key=\"categoria.id\">\n            <td class=\"py-3 px-2\">\n              <biblioteca-header size=\"sm\" class=\"d-flex align-item--center\">\n                <biblioteca-categoria-link :id=\"categoria.id\">\n                  {{ categoria.nome }}\n                </biblioteca-categoria-link>\n              </biblioteca-header>\n            </td>\n            <td class=\"align-middle text-end\">\n              <el-dropdown\n                trigger=\"click\">\n                <biblioteca-icon\n                  icon=\"three-dots-vertical\"\n                  class=\"cursor--pointer mx--md\" />\n                <el-dropdown-menu slot=\"dropdown\">\n                  <el-dropdown-item>\n                    <biblioteca-categoria-link\n                      :id=\"categoria.id\"\n                      action=\"edit\">\n                      <biblioteca-icon size=\"sm\" icon=\"pencil\" />\n                      Editar\n                    </biblioteca-categoria-link>\n                  </el-dropdown-item>\n                  <el-dropdown-item>\n                    <a @click=\"setDeleteCategoria(categoria)\">\n                      <biblioteca-icon size=\"sm\" icon=\"trash\" />\n                      Excluir\n                    </a>\n                  </el-dropdown-item>\n                </el-dropdown-menu>\n              </el-dropdown>\n              <biblioteca-modal-delete\n                v-if=\"showModal(categoria)\"\n                content=\"Você realmente deseja excluir a categoria?\"\n                @close=\"setDeleteCategoria(null)\"\n                @confirm=\"onDeleteCategoria(categoria)\">\n              </biblioteca-modal-delete>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <biblioteca-p v-else class=\"opacity--50 my--lg\">( Sem Categorias )</biblioteca-p>\n    </template>\n  </biblioteca-single-content-layout>\n</template>\n\n<script>\nimport { toastError } from '@/services/toastService';\nimport { fetchCategorias, removeCategoria } from '@/modules/categoria/categoria.service';\nimport { goToCreateCategoria } from '@/modules/categoria/categoria.routes';\n\nimport BibliotecaCategoriaLink from '@/modules/categoria/components/CategoriaLink.vue';\nimport BibliotecaSingleContentLayout from '@/layouts/SingleContentLayout.vue';\n\nexport default {\n  name: 'BibliotecaGerenciarCategorias',\n  components: {\n    BibliotecaCategoriaLink,\n    BibliotecaSingleContentLayout,\n  },\n  data() {\n    return {\n      categoriaList: [],\n      categoriaDelete: null,\n    };\n  },\n  mounted() {\n    this.fetch();\n  },\n  methods: {\n    fetch() {\n      this.categoriaList = [];\n      fetchCategorias()\n        .then(data => {\n          this.categoriaList = data.data;\n        })\n        .catch(() => {\n          this.categoriaList = [];\n        });\n    },\n    onCreateCategoria() {\n      goToCreateCategoria(this.$router);\n    },\n    setDeleteCategoria(categoria) {\n      this.categoriaDelete = categoria;\n    },\n    showModal(categoria) {\n      return this.categoriaDelete && this.categoriaDelete.id === categoria.id;\n    },\n    onDeleteCategoria(categoria) {\n      removeCategoria(categoria)\n        .then(() => {\n          this.$router.go(0);\n        })\n        .catch(() => toastError('Não foi possível excluir a categoria'));\n    },\n  },\n};\n</script>\n"]}]}